{"ast":null,"code":"import _ from 'lodash';\nexport default class TextBundle {\n  constructor() {\n    this.translations = {};\n    this.defaultLocale = 'nl';\n  }\n\n  add(locale, text) {\n    this.translations[locale] = text;\n    return this;\n  }\n\n  translate(locale) {\n    return _.escape(this.resolve(locale));\n  }\n\n  resolve(locale) {\n    const text = this.translations[locale];\n\n    if (text !== null) {\n      return text;\n    }\n\n    const defaultText = this.translations[this.defaultLocale];\n\n    if (defaultText !== null) {\n      return defaultText;\n    }\n\n    if (Object.values(this.translations).length > 0) {\n      return Object.values(this.translations)[0];\n    }\n\n    return '?text?';\n  }\n\n}","map":{"version":3,"names":["_","TextBundle","translations","defaultLocale","add","locale","text","translate","escape","resolve","defaultText","Object","values","length"],"sources":["/Users/t.b.araujouva.nl/Documents/GitHub/port-pilotUvA-02/src/framework/text_bundle.ts"],"sourcesContent":["import _ from 'lodash'\nimport { Translatable } from './types/elements'\n\nexport default class TextBundle implements Translatable {\n  translations: { [key: string]: string } = {}\n  defaultLocale: string = 'nl'\n\n  add (locale: string, text: string): TextBundle {\n    this.translations[locale] = text\n    return this\n  }\n\n  translate (locale: string): string {\n    return _.escape(this.resolve(locale))\n  }\n\n  resolve (locale: string): string {\n    const text = this.translations[locale]\n    if (text !== null) {\n      return text\n    }\n\n    const defaultText = this.translations[this.defaultLocale]\n    if (defaultText !== null) {\n      return defaultText\n    }\n\n    if (Object.values(this.translations).length > 0) {\n      return Object.values(this.translations)[0]\n    }\n\n    return '?text?'\n  }\n}\n"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AAGA,eAAe,MAAMC,UAAN,CAAyC;EAAA;IAAA,KACtDC,YADsD,GACZ,EADY;IAAA,KAEtDC,aAFsD,GAE9B,IAF8B;EAAA;;EAItDC,GAAG,CAAEC,MAAF,EAAkBC,IAAlB,EAA4C;IAC7C,KAAKJ,YAAL,CAAkBG,MAAlB,IAA4BC,IAA5B;IACA,OAAO,IAAP;EACD;;EAEDC,SAAS,CAAEF,MAAF,EAA0B;IACjC,OAAOL,CAAC,CAACQ,MAAF,CAAS,KAAKC,OAAL,CAAaJ,MAAb,CAAT,CAAP;EACD;;EAEDI,OAAO,CAAEJ,MAAF,EAA0B;IAC/B,MAAMC,IAAI,GAAG,KAAKJ,YAAL,CAAkBG,MAAlB,CAAb;;IACA,IAAIC,IAAI,KAAK,IAAb,EAAmB;MACjB,OAAOA,IAAP;IACD;;IAED,MAAMI,WAAW,GAAG,KAAKR,YAAL,CAAkB,KAAKC,aAAvB,CAApB;;IACA,IAAIO,WAAW,KAAK,IAApB,EAA0B;MACxB,OAAOA,WAAP;IACD;;IAED,IAAIC,MAAM,CAACC,MAAP,CAAc,KAAKV,YAAnB,EAAiCW,MAAjC,GAA0C,CAA9C,EAAiD;MAC/C,OAAOF,MAAM,CAACC,MAAP,CAAc,KAAKV,YAAnB,EAAiC,CAAjC,CAAP;IACD;;IAED,OAAO,QAAP;EACD;;AA7BqD"},"metadata":{},"sourceType":"module"}